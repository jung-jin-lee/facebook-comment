(this["webpackJsonpfacebook-comment"]=this["webpackJsonpfacebook-comment"]||[]).push([[0],{19:function(e,t,n){e.exports=n(34)},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(11),c=n.n(l),o=n(4),i=n(18),u=n(2),m=n(6),s=n(9),d=n.n(s),b=n(10),p=n(7),E=n(1),f=n(15),v=n.n(f),O={},k={key:"comments",storage:d.a},C=Object(m.a)(k,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=t.payload||{},a=n.id,r=n.userId,l=n.commentId,c=n.replyId,o=n.content;switch(t.type){case"ADD_COMMENT":return Object(E.a)({},e,Object(p.a)({},a,{content:o,likes:[],replies:[]}));case"ADD_REPLY_TO_COMMENT":return Object(E.a)({},e,Object(p.a)({},l,Object(E.a)({},e[l],{replies:[].concat(Object(b.a)(e[l].replies),[{id:c,content:o,likes:[]}])})));case"CANCEL_LIKE_TO_COMMENT":var i=Object(b.a)(e[a].likes).filter((function(e){return e!==r}));return Object(E.a)({},e,Object(p.a)({},a,Object(E.a)({},e[a],{likes:Object(b.a)(i)})));case"DELETE_COMMENT":var u={};for(var m in e)m!==t.payload.id&&(u[m]=e[m]);return Object(E.a)({},u);case"LIKE_TO_COMMENT":return Object(E.a)({},e,Object(p.a)({},a,Object(E.a)({},e[a],{likes:[].concat(Object(b.a)(e[a].likes),[r])})));default:return e}})),y={key:"root",storage:d.a},j=Object(u.b)({comments:C}),g=Object(m.a)(y,j),N={key:"root",storage:d.a},T=Object(m.a)(N,g),x=n(5);var h=function(e){var t=e.addComment,n=Object(a.useState)(""),l=Object(x.a)(n,2),c=l[0],o=l[1];return r.a.createElement("div",{className:"pl-1 pr-4 w-full"},r.a.createElement("input",{className:"border border-gray-400 bg-gray-200 p-2 rounded-full w-full",onChange:function(e){return o(e.target.value)},onKeyUp:function(e){return function(e,t){"Enter"===e.key&&(t(e.target.value),o(""))}(e,t)},placeholder:"\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694...",value:c}))},M=Object(o.b)(null,(function(e){return{addComment:function(t){return e(function(e){return{type:"ADD_COMMENT",payload:{id:v()(),content:e}}}(t))}}}))(h);var _=function(e){var t=e.content,n=e.doesILike,a=e.likeCount;return r.a.createElement("div",{className:"bg-gray-200 rounded-full break-words relative inline-block max-w-full w-3/4 px-6 py-2"},r.a.createElement("div",null,r.a.createElement("div",{className:"inline-block text-sm text-blue-800 font-semibold"},"\ud64d\uae38\ub3d9"),r.a.createElement("span",{className:"ml-1 text-sm"},t)),r.a.createElement("div",{className:"bg-white border border-gray-400 shadow-md rounded-full px-1 absolute z-10 "+(n?"":"hidden"),style:{right:"2px",bottom:"-8px"}},r.a.createElement("span",{className:"bg-blue-500 px-1 rounded-full"},r.a.createElement("i",{className:"material-icons text-xs text-white"},"thumb_up")),r.a.createElement("span",{className:"ml-1 text-sm"},a)))};var w=function(e){var t=e.deleteComment,n=e.id,a=e.visible;return r.a.createElement("div",{className:"ml-2 cursor-pointer inline-block leading-none "+(a?"":"hidden")},r.a.createElement("div",{className:"inline-block border border-gray-400 p-1 rounded-full shadow-md"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){return function(e){window.confirm("\uc774 \ub313\uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc5b4\uc694?")&&t(e)}(n)}},r.a.createElement("i",{className:"material-icons text-base text-gray-600"},"delete")))))};var L=function(e){var t=e.cancelLikeToComment,n=e.doesILike,a=void 0!==n&&n,l=e.id,c=e.likeToComment,o=e.onClickReplyButton;return r.a.createElement("ul",{className:"inline-block text-xs"},r.a.createElement("li",{className:"inline-block cursor-pointer text-blue-800 "+(a?"font-semibold":""),onClick:function(){return function(e,t,n){n(e,t)}(l,"peter",a?t:c)}},r.a.createElement("span",null,"\uc88b\uc544\uc694")),r.a.createElement("li",{className:"inline-block text-blue-800"},r.a.createElement("span",null,"\xb7")),r.a.createElement("li",{className:"inline-block cursor-pointer text-blue-800",onClick:o},r.a.createElement("span",null,"\ub2f5\uae00 \ub2ec\uae30")))};var I=function(e){var t=e.id,n=e.content;return r.a.createElement("li",{className:"mt-2",key:t},r.a.createElement("div",{className:"bg-gray-200 rounded-full break-words relative inline-block max-w-full w-3/4 leading-snug px-6 py-2"},r.a.createElement("div",{className:"inline-block text-sm text-blue-800 font-semibold"},"\ud64d\uae38\ub3d9"),r.a.createElement("span",{className:"ml-1 text-sm"},n)))};var D=function(e){var t=e.commentId,n=e.addReplyToComment,l=e.visible,c=Object(a.useState)(""),o=Object(x.a)(c,2),i=o[0],u=o[1];return r.a.createElement("div",{className:"pl-8 pt-2 pr-4 mb-4 w-full "+(l?"":"hidden")},r.a.createElement("input",{className:"border border-gray-400 bg-gray-200 p-2 rounded-full w-full",onChange:function(e){return u(e.target.value)},onKeyUp:function(e){return function(e,t,n){"Enter"===e.key&&(n(t,e.target.value),u(""))}(e,t,n)},placeholder:"\ub2f5\uae00\uc744 \uc785\ub825\ud558\uc138\uc694...",value:i}))},A=Object(o.b)(null,(function(e){return{addReplyToComment:function(t,n){return e(function(e,t){return{type:"ADD_REPLY_TO_COMMENT",payload:{commentId:e,replyId:v()(),content:t}}}(t,n))}}}))(D);var K=function(e){var t=e.cancelLikeToComment,n=e.content,l=e.deleteComment,c=e.id,o=e.likes,i=e.likeCount,u=void 0===i?0:i,m=e.likeToComment,s=e.replies,d=void 0===s?[]:s,b=Object(a.useState)(!1),p=Object(x.a)(b,2),E=p[0],f=p[1],v=Object(a.useState)(d.length>0),O=Object(x.a)(v,2),k=O[0],C=O[1],y=Object(a.useState)(o.includes("peter")),j=Object(x.a)(y,2),g=j[0],N=j[1];return Object(a.useEffect)((function(){N(o.includes("peter"))}),[o]),r.a.createElement("li",null,r.a.createElement("div",{onMouseOut:function(){return f(!1)},onMouseOver:function(e){return f(!0)}},r.a.createElement(_,{content:n,doesILike:g,likeCount:u}),r.a.createElement(w,{deleteComment:l,id:c,visible:E})),r.a.createElement("div",{className:"ml-6"},r.a.createElement(L,{cancelLikeToComment:t,doesILike:g,id:c,likeToComment:m,onClickReplyButton:function(){return C(!0)}})),r.a.createElement("div",null,r.a.createElement("ul",{className:"mt-2 ml-8"},d&&d.map((function(e){var t=e.id,n=e.content;return r.a.createElement(I,{content:n,id:t,key:t})}))),r.a.createElement(A,{commentId:c,visible:k})))},R=function(e){var t=e.cancelLikeToComment,n=e.comments,a=void 0===n?{}:n,l=e.deleteComment,c=e.likeToComment,o=[];if(0!==Object.entries(a).length||a.constructor!==Object)for(var i in a)"_persist"!==i&&o.push(Object(E.a)({},a[i],{id:i,likeCount:a[i].likes.length,replies:a[i].replies&&a[i].replies.map((function(e){return{id:e.id,content:e.content}}))}));return r.a.createElement("ul",null,o&&o.map((function(e){return r.a.createElement(K,Object.assign({cancelLikeToComment:t,deleteComment:l,key:e.id,likeToComment:c},e))})))},S=Object(o.b)((function(e){return{comments:e.comments}}),(function(e){return{cancelLikeToComment:function(t,n){return e(function(e,t){return{type:"CANCEL_LIKE_TO_COMMENT",payload:{id:e,userId:t}}}(t,n))},deleteComment:function(t){return e(function(e){return{type:"DELETE_COMMENT",payload:{id:e}}}(t))},likeToComment:function(t,n){return e(function(e,t){return{type:"LIKE_TO_COMMENT",payload:{id:e,userId:t}}}(t,n))}}}))(R);var B=function(){return r.a.createElement("div",{className:"mx-auto"},r.a.createElement("div",{className:"bg-white mx-auto mt-2 p-4 border border-gray-400",style:{width:"600px"}},r.a.createElement(S,null),r.a.createElement(M,null)))},J=(n(33),function(){var e=Object(u.c)(T);return{store:e,persistor:Object(m.b)(e)}}()),P=J.store,U=J.persistor;c.a.render(r.a.createElement(o.a,{store:P},r.a.createElement(i.a,{loading:null,persistor:U},r.a.createElement(B,null))),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.39a08d5d.chunk.js.map